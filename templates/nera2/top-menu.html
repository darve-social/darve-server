<div class="navbar md:hidden w-screen">
  <div class="flex-1">
    <div class="ml-6 text-xl text-neutral-content">
      <svg
        width="50"
        viewBox="0 0 234.72 180.91"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <defs>
          <linearGradient
            id="a"
            x1="85.251"
            x2="5.8904"
            y1="23.839"
            y2="98.477"
            gradientTransform="matrix(3.1085 0 0 3.1085 -121.35 -110.4)"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#d8fd1a" offset="0"></stop>
            <stop stop-color="#ececec" offset=".59877"></stop>
          </linearGradient>
        </defs>
        <g transform="translate(53.765 33.44)">
          <path
            d="m-10.195 145.13c-0.72888-0.72887-1.3252-3.4728-1.3252-6.0977 0-13.111-12.49-26.441-29.444-31.422-14.535-4.2707-14.702-4.939-2.1592-8.6089 18.395-5.3821 30.04-17.313 32.03-32.819 1.0022-7.8066 4.4965-5.6415 8.8985 5.5137 6.4713 16.399 10.907 20.433 30.049 27.331 10.876 3.9192 11.478 5.4235 2.8168 7.0482-17.198 3.2264-27.589 12.21-33.025 28.552-3.3266 10.001-5.471 12.873-7.8412 10.502zm135.45-9.4618c-3.9893-3.6941-12.849-10.885-19.687-15.98-6.8388-5.0949-15.303-11.623-18.81-14.506-3.5065-2.8832-10.014-8.0399-14.461-11.459-7.1881-5.5273-23.03-18.921-25.792-21.806-0.5699-0.59532-6.6315-5.7243-13.47-11.398-6.8388-5.6734-13.942-11.947-15.786-13.942-5.0987-5.5174-15.543-4.6907-19.635 1.5541-6.2064 9.4722-7.0627 5.4673-7.0627-33.035 0-45.586-0.14253-45.333 17.618-31.208 12.136 9.6519 30.565 24.234 39.287 31.085 4.3528 3.4194 8.9516 7.1496 10.219 8.2894 1.2679 1.1398 6.9668 5.7944 12.664 10.343 5.6974 4.5491 12.306 10.144 14.686 12.434 2.3796 2.2896 8.4412 7.5729 13.47 11.741 5.0291 4.1677 11.941 9.995 15.361 12.95 8.1296 7.0247 18.307 4.3118 19.104-4.5746 0.10846-1.2082 0.38789-5.0003 2.1221-5.6658 2.7667-1.0617 2.6258 6.0692 2.132 40.881-0.61686 43.495-0.96129 44.483-11.961 34.297zm5.5963-93.779c-5.5657-18.098-11.813-20.69-31.5-27.784-10.876-3.9192-11.478-5.4235-2.8168-7.0482 2.3336-0.43778 4.5124-0.95624 6.5528-1.5694 12.96-3.8948 20.337-11.612 26.313-26.757 4.5849-11.619 7.9527-13.863 8.9278-5.9497 1.963 15.932 12.568 27.665 29.504 32.641 14.893 4.3764 15.08 5.0272 2.4972 8.7085-19.052 5.5744-29.039 19.039-31.603 33.328-2.2721 12.662-4.1968 6.3887-7.8743-5.5697z"
            fill="#581b5a"
            stroke="url(#a)"
            stroke-width="3.1085"
          ></path>
        </g>
      </svg>
      {{nav_top_title}}
    </div>
  </div>
  <div class="flex-none gap-2">
    <div class="dropdown dropdown-end">
      <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
        <div class="w-10 rounded-full">
          <img
            alt="profile"
            src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"
          />
        </div>
      </div>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow"
      >
        <li>
          <a class="justify-between">
            Profile
            <span class="badge">New</span>
          </a>
        </li>
        <li></li>
        <li>
          <button
            hx-post="/api/user/wallet/withdraw"
            hx-swap="none"
            hx-on::error="showSnackbar(event.detail.errorInfo.xhr.responseText);"
            hx-on::after-request="if (event.detail.xhr.status === 200) window.open(event.detail.xhr.responseText); document.getElementById('loading-overlay').style.display='none';"
            hx-on::before-request="document.getElementById('loading-overlay').style.display='flex';"
          >
            Withdraw
          </button>
        </li>
        <li><a>Settings</a></li>
        <li><a>Logout</a></li>
      </ul>
    </div>
  </div>
</div>

<div
  id="loading-overlay"
  style="
    display: none;
    position: fixed;
    z-index: 9999;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
  "
>
  Please waiting...
</div>

<div
  id="snackbar"
  style="
    visibility: hidden;
    min-width: 250px;
    background: #e53e3e;
    color: #fff;
    text-align: center;
    border-radius: 8px;
    padding: 16px;
    position: fixed;
    z-index: 10000;
    left: 50%;
    bottom: 30px;
    transform: translateX(-50%);
    font-size: 1.2rem;
    transition:
      visibility 0s,
      opacity 0.5s linear;
    opacity: 0;
  "
></div>

<script>
  function showSnackbar(message) {
    console.log(message);
    const sb = document.getElementById("snackbar");
    sb.textContent = message;
    sb.style.visibility = "visible";
    sb.style.opacity = "1";
    setTimeout(function () {
      sb.style.opacity = "0";
      sb.style.visibility = "hidden";
    }, 3000);
  }
</script>
